
编码标准之所以重要有几个原因。首先，它们有助于减少技术债务。技术债务，也称为" 代码债务"，是一个比喻，用来描述维护和修改设计不佳或编写不佳的代码的成本。就像金融债务会产生利息并需要持续偿还一样，技术债务也会以维护和修改设计不佳的代码所需的时间和精力的形式产生额外成本。

技术债务可以通过多种方式累积，例如通过不规范或快速解决问题，或者忽略最佳实践或编码标准。随着技术债务的积累，修改和维护代码会变得越来越困难和耗时，这可能会对开发团队的效率和效力产生负面影响。

为了谨慎管理技术债务，必须尽量避免积累过多的技术债务，因为这可能会成为开发团队的沉重负担。管理技术债务的策略包括定期重构代码以改善其设计和可维护性、遵循最佳实践和编码标准，以及积极寻找机会提高代码质量。总体而言，管理技术债务是良好代码设计和开发的一个重要方面，可以帮助确保代码高效、可靠且易于使用。

编码标准有助于确保代码的质量和一致性。通过建立一套编写代码的准则和惯例，编码标准有助于确保代码编写良好、易于阅读和易于理解。这使得其他人更容易维护和更新代码，并有助于防止错误和缺陷。

此外，它们还有助于提高代码效率。通过遵循既定的惯例和最佳实践，程序员可以编写更高效、性能更好的代码。这可以节省时间和资源，并有助于确保代码可扩展并能够处理大量数据和流量。

此外，编码标准促进了程序员之间的协作和团队合作。通过建立一套通用的指导方针和惯例，编码标准使程序员团队更容易在项目上合作。这可以实现更好的沟通和协调，并有助于确保每个人都在同一步调上并朝着相同的目标努力。
编码标准通常可以提高代码的互操作性和可移植性。通过遵循一套标准化的约定，一个程序员编写的代码可以被另一个程序员轻松理解和使用。这使得代码可以更轻松地集成到更大的项目中，并有助于确保它可以在各种不同的平台和操作系统上使用。

C++ 编程语言可能是功能最丰富的语言之一。它最初是带有类的 C，提供高性能的面向对象支持，并且几乎完全兼容 C；后来，引入了模板元编程， Stepanov 和 Lee 开发了标准模板库，现在称为 C++ 标准库。现代 C++(C++11 及更新版本)为多种编程范式提供了广泛的支持，包括过程式、面向对象、泛型和函数式编程。它提供了 lambda 表达式、基于范围的for 循环、智能指针和类型推断等功能，这些功能支持函数式编程技术。此外， C++ 还支持面向对象编程概念，例如继承、封装和多态性。它还提供模板元编程，从而支持泛型编程并允许编译时优化。此外， C++ 提供并发支持，具有线程、原子类型和未来等功能，使编写并发和并行代码变得更加容易。这种灵活性是语言优势的关键，但往往会导致可维护性问题。

开发人员必须理解我们提到的范式的概念、如何将它们结合使用以及它们最终如何影响代码的性能。这时，编码标准可以帮助解释代码库的复杂性。

所有这些因素使得编码指南成为现代 C++ 项目达到质量标准所应具备的最低标准。

\mySubsubsection{1.2.1}{代码约定}

与 Python、 Go、 Java 等许多其他语言相反， C++ 没有通用的代码约定。

C++ 编程语言有几种流行的编码约定。以下是一些广泛遵循的常见约定：

\begin{itemize}
\item
命名约定：命名约定指定如何以描述性的方式命名变量、函数、类和其他代码元素。例如，变量可以使用小写字母命名，单词之间用下划线分隔，例如 total\_cost 或 customer\_name。类变量通常具有前缀或后缀以区别于其他变量，例如 m\_user\_count 或 user\_count\_。函数可以使用 camelCase 命名，每个单词(第一个单词除外)的首字母大写，例如 calculateTotalCost 或 getCustomerName。类可以使用 PascalCase 命名，每个单词的首字母大写，例如 Customer 或 Invoice。

\item
注释：注释惯例指定了如何在代码中编写和格式化注释。注释用于提供代码的解释和文档，应清晰简洁。通常建议使用内联注释来解释特定的代码行，以及使用块注释来提供代码块或函数的概述。

\item
格式化：格式化约定指定如何格式化代码以提高可读性和一致性。这可能包括缩进、间距、换行符和其他代码布局元素的约定。例如，缩进代码块(如 for 循环或 if 语句中的代码块)以直观地指示代码的结构是很常见的。格式化策略通常涵盖指针和引用中的星号 (*) 和与号 (\&) 对齐(例如， int* ptr 与 int *ptr 或 Socket \&socket 与 Socket\& socket) ，花括号位置(同一行、下一行或上下文相关)。本书在第 13 章中介绍了自动格式化的各个方面。

\item
编码风格：编码风格惯例指定了如何编写和构建代码以提高清晰度和可读性。这可能包括变量声明、控制流和代码结构的其他元素的惯例，例如如何将变量传递给函数(通过值、引用或指针)以及特定语言功能的使用，例如异常和 goto 运算符。
\end{itemize}

需要注意的是，不同组织和团队的编码约定可能有所不同。请务必遵循您的团队或组织建立的约定，如果没有指定，则定义您自己的约定。

制定编码约定可能很繁琐；一些公司更喜欢使用现有的约定并根据自己的需求进行调整。
在 C++ 编程语言中，有几种流行的代码标准受到开发人员的广泛遵循。这些标准旨在提高C++ 代码的可读性、可维护性和整体质量。

C++ 的一个通用代码标准是 C++ 核心指南 (\url{https://isocpp.github.io/CppCoreGuidelines/CppCor eGuidelines})，它由 C++ 的创建者 Bjarne Stroustrup 和一群来自行业和学术界的专家制定。该指南涵盖了广泛的主题，包括命名约定、注释、格式和编码风格。

C++ 的另一个流行代码标准是 Google C++ 样式指南 (\url{https://google.github.io/styleguide/cppguide.html})，包括 Google 在内的许多软件公司都在使用它。该指南提供了命名约定、注释、 格式和编码风格的指南，以及使用特定 C++ 功能和库的建议。

除了这些被广泛遵循的标准之外，还有许多其他由独立组织和团队开发的代码标准，例如 LLVM 编码标准、 WebKit 和 Mozilla 的风格指南。

如果项目符合特定的代码约定，则更容易阅读，并且作为额外好处，代码库变得更易于 grep。考虑需要找到分配名为 request\_id 的变量的位置。可以通过 grep 实用程序轻松实现：

\begin{shell}
$ grep -rn "request_id = " .
./RequestHandler.cpp:25: request_id = new_request_id;
./RequestHandler.cpp:122: request_id = request.getId();
\end{shell}

代码审阅人员过去常常在同行评审期间花费数小时来捕捉和评论代码格式的不一致之处。幸运的是，今天我们有 Clang-Tidy 和 Clang-Format 等工具，它们允许我们通过代码编辑器和持续集成 (CI) 自动确保代码格式的一致性。我们将在本书第 10 章中深入介绍它们的配置。

\mySubsubsection{1.2.2}{语言功能限制}

C++ 是一种功能强大的语言；众所周知，能力越大，责任越大。对于工程师来说，尤其是那些没有花费数十年编写 C++ 代码的工程师，要掌握该语言的复杂性并不容易。因此，一些公司决定限制其项目中使用的功能。这些限制可能包括禁止多重继承、使用异常以及尽量少使用宏、模板和特定的第三方库。此外，这些规定可能来自对遗留库的使用。例如，如果大多数代码不支持 C++ 异常，那么在没有事先了解结果的情况下将它们添加到新代码中可能不是一个好主意。
